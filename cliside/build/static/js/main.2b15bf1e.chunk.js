(this.webpackJsonpcliside=this.webpackJsonpcliside||[]).push([[0],{31:function(e,t,a){},41:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(14),c=a.n(s),i=(a(41),a(16)),l=a(17),u=a(2),o=a(9),d=a.n(o),h=(a(60),a(7)),j=a.n(h),b=a(10),m=a(12),p=a(20),x=(a(62),a(31),a(0));var O=Object(n.createContext)(null);var f=function(e){var t=Object(n.useContext)(O).urdata;return!1===t.redirect?Object(x.jsx)(u.a,{push:!0,to:"/login"}):!0===t.redirect?Object(x.jsx)("p",{children:JSON.stringify(t.user)}):void 0};var v=function(){var e=Object(n.useState)({un:"",pass:"",remember_me:!0}),t=Object(i.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)({redirect:!1}),c=Object(i.a)(s,2),l=c[0],o=c[1],h=Object(n.useContext)(O),f=(h.urdata,h.setUser);function v(e){r(Object(p.a)(Object(p.a)({},a),{},Object(m.a)({},e.target.name,e.target.value))),console.log(a),console.log("somewhat works")}function g(){return(g=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/login",a);case 2:!0===(t=e.sent).data.redirect&&(o({redirect:t.data.redirect}),f({user:t.data.user,redirect:t.data.redirect}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/login",a);case 2:!0===(t=e.sent).data.redirect&&(o({redirect:t.data.redirect}),f({user:t.data.user,redirect:t.data.redirect}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){k.apply(this,arguments)}(),!0===l.redirect?Object(x.jsx)(u.a,{push:!0,to:"/dashboard"}):Object(x.jsx)("div",{class:"logbackground",children:Object(x.jsx)("div",{class:"maincontainer",children:Object(x.jsxs)("div",{class:"Form_schem",children:[Object(x.jsxs)("span",{children:[Object(x.jsx)("label",{for:"Username",children:"Username"}),Object(x.jsx)("input",{value:a.un,type:"text",name:"un",id:"Username",placeholder:"Username",onChange:v})]}),Object(x.jsxs)("span",{children:[Object(x.jsx)("label",{for:"Password",children:"Password"}),Object(x.jsx)("input",{value:a.pass,name:"pass",id:"Password",placeholder:"Password",type:"password",onChange:v})]}),Object(x.jsx)("span",{children:Object(x.jsxs)("span",{class:"rme",children:[Object(x.jsx)("label",{for:"remeber_me",children:"Remember me ? "}),Object(x.jsx)("input",{value:a.remember_me,name:"remember_me",id:"remember_me",type:"checkbox",onChange:v})]})}),Object(x.jsx)("span",{children:Object(x.jsx)("button",{id:"login_button",onClick:function(){return g.apply(this,arguments)},children:"Login"})}),Object(x.jsxs)("span",{class:"fn",children:[Object(x.jsx)("span",{children:Object(x.jsx)("a",{href:"/login",children:"Forgotten Your Password?"})}),Object(x.jsxs)("span",{class:"regilink",children:["Need An account? ",Object(x.jsx)("a",{href:"/register",children:"Register"})]})]})]})})})},g=a(33),k=a(34),w=a(13),y=a(36),C=a(35);a(72);function U(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}var P=function(e){Object(y.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state={firstname:"",surname:"",username:" ",password:"",email:" ",phonenumber:""},n.emailmess="",n.emailval=null,n.usernamemess="",n.usernamevall=null,n.handleChange=n.updstate.bind(Object(w.a)(n)),n.regiproc=n.regiproc.bind(Object(w.a)(n)),n.credtaken=n.credtaken.bind(Object(w.a)(n)),n}return Object(k.a)(a,[{key:"credtaken",value:function(){var e=Object(b.a)(j.a.mark((function e(t,a){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("email"!==t){e.next=12;break}return e.next=3,d.a.post("/takencred",{email:a},(function(e,t){return t}));case 3:if(!1!==(n=e.sent).data.taken){e.next=8;break}return e.abrupt("return",{out:!1});case 8:if(!0!==n.data.taken){e.next=10;break}return e.abrupt("return",{out:!0});case 10:e.next=24;break;case 12:if("username"!==t){e.next=24;break}return e.next=15,d.a.post("/takencred",{username:a},(function(e,t){return t}));case 15:if(!1!==(r=e.sent).data.taken){e.next=21;break}return this.usernamevall=!0,e.abrupt("return",{out:!1});case 21:if(!0!==r.data.taken){e.next=24;break}return this.usernamevall=!1,e.abrupt("return",{out:!0});case 24:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updstate",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState(Object(m.a)({},t.target.name,t.target.value)),"email"!==t.target.name){e.next=6;break}return e.next=4,this.credtaken("email",this.state.email);case 4:!1===(a=e.sent).out?(n=U(this.state.email),this.emailmess=null,this.forceUpdate(),!1===n?(this.emailmess="Email is invalid",this.emailval=!1,this.forceUpdate()):!0===n?(this.emailmess="Email is valid",this.emailval=!0,this.forceUpdate()):(this.emailmess=null,this.forceUpdate())):!0===a.out&&(this.emailmess="Email taken",this.forceUpdate());case 6:if("username"!==t.target.name){e.next=11;break}return e.next=9,this.credtaken("username",this.state.username);case 9:!0===(r=e.sent).out?(this.usernamemess="Username is taken",this.forceUpdate()):!1===r.out&&(this.usernamemess="Username is valid",this.forceUpdate());case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"regiproc",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==this.emailval||!0!==this.usernamevall){e.next=5;break}return e.next=3,d.a.post("/register",{fnm:this.state.firstname,surn:this.state.surname,email:this.state.email,usrnm:this.state.username,password:this.state.password,pnum:this.state.phonenumber},(function(e,t){return t}));case 3:a=e.sent,console.log(a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(x.jsx)("div",{class:"logbackground",children:Object(x.jsx)("div",{class:"maincontainer",children:Object(x.jsxs)("div",{class:"Form_schem",children:[Object(x.jsx)("span",{children:Object(x.jsx)("h1",{children:"Create an account"})}),Object(x.jsxs)("span",{children:[Object(x.jsx)("label",{for:"first_name",children:"Firstname"}),Object(x.jsx)("input",{id:"first_name",placeholder:"Forename",type:"text",value:this.state.firstname,onChange:this.handleChange,name:"firstname",required:!0})]}),Object(x.jsxs)("span",{children:[Object(x.jsx)("label",{for:"sur_name",children:"Surname"}),Object(x.jsx)("input",{id:"sur_name",placeholder:"Surname",type:"text",value:this.state.surname,onChange:this.handleChange,name:"surname",required:!0})]}),Object(x.jsxs)("span",{children:[Object(x.jsx)("label",{for:"Username",children:"Username"}),Object(x.jsx)("input",{id:"Username",value:this.state.username,type:"text",placeholder:"Username",onChange:this.handleChange,name:"username",required:!0}),Object(x.jsx)("p1",{children:this.usernamemess})]}),Object(x.jsxs)("span",{children:[Object(x.jsx)("label",{for:"Password",children:"Password"}),Object(x.jsx)("input",{id:"Password",type:"password",value:this.state.password,placeholder:"Password",onChange:this.handleChange,name:"password",required:!0})]}),Object(x.jsxs)("span",{children:[Object(x.jsx)("label",{for:"email",children:"Email"}),Object(x.jsx)("input",{id:"email",type:"email",placeholder:"Email",autoComplete:"email",value:this.state.email,onChange:this.handleChange,name:"email",maxLength:"320",required:!0}),Object(x.jsx)("p1",{id:"emailmess",children:this.emailmess})]}),Object(x.jsxs)("span",{children:[Object(x.jsx)("label",{for:"phonenumber",children:"Phonenumber"}),Object(x.jsx)("input",{id:"phonenumber",placeholder:"Phonenumber",type:"text",value:this.state.phonenumber,onChange:this.handleChange,name:"phonenumber"})]}),Object(x.jsx)("span",{children:Object(x.jsx)("button",{type:"submit",onClick:this.regiproc,children:"Register"})}),Object(x.jsx)("span",{id:"tctxt",children:Object(x.jsxs)("p1",{children:["By clicking Register you are agreeing to the ",Object(x.jsx)("a",{href:"#",children:"Terms and Conditions"})]})}),Object(x.jsx)("span",{class:"logbtn",children:Object(x.jsxs)("span",{children:["Already have an account?",Object(x.jsx)("a",{href:"/login",children:"Login"})]})})]})})})}}]),a}(r.a.Component);function _(){return Object(x.jsx)("h1",{children:"welcome"})}var S=function(){var e=Object(n.useState)({user:null,redirect:!1}),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(l.a,{children:Object(x.jsx)(u.d,{children:Object(x.jsxs)(O.Provider,{value:{urdata:a,setUser:r},children:[Object(x.jsx)(u.b,{exact:!0,path:"/",children:Object(x.jsx)(_,{})}),Object(x.jsx)(u.b,{exact:!0,path:"/login",children:Object(x.jsx)(v,{})}),Object(x.jsx)(u.b,{exact:!0,path:"/register",children:Object(x.jsx)(P,{})}),Object(x.jsx)(u.b,{exact:!0,path:"/dashboard",component:f})]})})})})};c.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(S,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.2b15bf1e.chunk.js.map