{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mugki/Desktop/sltim/cliside/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mugki/Desktop/sltim/cliside/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/mugki/Desktop/sltim/cliside/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/mugki/Desktop/sltim/cliside/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mugki/Desktop/sltim/cliside/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import ReactDOM from'react-dom';import Axios from'axios';import'./login.css';import'../general_css/gcss.css';import Footer from'../general_css/footer';import{BrowserRouter as Router,Switch,Route,Link,Redirect}from\"react-router-dom\";import Dashboard from'../Dashboard/dashboard';import UdContext from'../usercontext/usercontext';import{createContext,useContext}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState({un:'',pass:'',remember_me:true}),_useState2=_slicedToArray(_useState,2),logindetails=_useState2[0],setdetails=_useState2[1];//function component equivalent of this.state  // used to get login details\nvar _useState3=useState({redirect:false}),_useState4=_slicedToArray(_useState3,2),redirect=_useState4[0],setredirect=_useState4[1];// redirect state // allow redirect to dashboard?\nvar _useContext=useContext(UdContext),urdata=_useContext.urdata,setUser=_useContext.setUser;// use this to set userdata to use any where\nfunction handleChange(event){setdetails(_objectSpread(_objectSpread({},logindetails),{},_defineProperty({},event.target.name,event.target.value)));// changes \nconsole.log(logindetails);console.log('somewhat works');}function loginproce(){return _loginproce.apply(this,arguments);}function _loginproce(){_loginproce=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var userdata;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.post('/login',logindetails);case 2:userdata=_context.sent;if(userdata.data.redirect===true){setredirect({redirect:userdata.data.redirect});setUser({user:userdata.data.user,redirect:userdata.data.redirect});// sets context to userdata from the redirect\n}case 4:case\"end\":return _context.stop();}}},_callee);}));return _loginproce.apply(this,arguments);}function onloadlogin(){return _onloadlogin.apply(this,arguments);}function _onloadlogin(){_onloadlogin=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var prelog;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Axios.post('/login',logindetails);case 2:prelog=_context2.sent;if(prelog.data.redirect===true){setredirect({redirect:prelog.data.redirect});setUser({user:prelog.data.user,redirect:prelog.data.redirect});// sets context to userdata from the redirect\n}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _onloadlogin.apply(this,arguments);}onloadlogin();if(redirect.redirect===true){return/*#__PURE__*/_jsx(Redirect,{push:true,to:\"/dashboard\"});}else{return/*#__PURE__*/_jsx(\"div\",{class:\"logbackground\",children:/*#__PURE__*/_jsx(\"div\",{class:\"maincontainer\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"Form_schem\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"Username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{value:logindetails.un,type:\"text\",name:\"un\",id:\"Username\",placeholder:\"Username\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"Password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{value:logindetails.pass,name:\"pass\",id:\"Password\",placeholder:\"Password\",type:\"password\",onChange:handleChange})]}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsxs(\"span\",{class:\"rme\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"remeber_me\",children:\"Remember me ? \"}),/*#__PURE__*/_jsx(\"input\",{value:logindetails.remember_me,name:\"remember_me\",id:\"remember_me\",type:\"checkbox\",onChange:handleChange})]})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"button\",{id:\"login_button\",onClick:loginproce,children:\"Login\"})}),/*#__PURE__*/_jsxs(\"span\",{class:\"fn\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"Forgotten Your Password?\"})}),/*#__PURE__*/_jsxs(\"span\",{class:\"regilink\",children:[\"Need An account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/register\",children:\"Register\"})]})]})]})})});}}export default Login;","map":{"version":3,"sources":["/Users/mugki/Desktop/sltim/cliside/src/Login/login.js"],"names":["React","useState","ReactDOM","Axios","Footer","BrowserRouter","Router","Switch","Route","Link","Redirect","Dashboard","UdContext","createContext","useContext","Login","un","pass","remember_me","logindetails","setdetails","redirect","setredirect","urdata","setUser","handleChange","event","target","name","value","console","log","loginproce","post","userdata","data","user","onloadlogin","prelog"],"mappings":"ukBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,aAAP,CACA,MAAO,yBAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,uBAAnB,CACA,OACIC,aAAa,GAAIC,CAAAA,MADrB,CAEIC,MAFJ,CAGIC,KAHJ,CAIIC,IAJJ,CAKIC,QALJ,KAMS,kBANT,CAOA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,4BAAtB,CACA,OAASC,aAAT,CAAwBC,UAAxB,KAA0C,OAA1C,C,wFAEA,QAASC,CAAAA,KAAT,EAAiB,CACb,cAAkCd,QAAQ,CAAC,CAACe,EAAE,CAAC,EAAJ,CAAOC,IAAI,CAAC,EAAZ,CAAeC,WAAW,CAAC,IAA3B,CAAD,CAA1C,wCAAOC,YAAP,eAAoBC,UAApB,eAA6E;AAC7E,eAAiCnB,QAAQ,CAAC,CAACoB,QAAQ,CAAC,KAAV,CAAD,CAAzC,yCAAOA,QAAP,eAAiBC,WAAjB,eAA4D;AAC5D,gBAA0BR,UAAU,CAACF,SAAD,CAApC,CAAOW,MAAP,aAAOA,MAAP,CAAeC,OAAf,aAAeA,OAAf,CAAgD;AAEhD,QAASC,CAAAA,YAAT,CAAuBC,KAAvB,CAA6B,CACzBN,UAAU,gCAAKD,YAAL,wBAAoBO,KAAK,CAACC,MAAN,CAAaC,IAAjC,CAAwCF,KAAK,CAACC,MAAN,CAAaE,KAArD,GAAV,CAAuE;AACvEC,OAAO,CAACC,GAAR,CAAYZ,YAAZ,EACAW,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACH,CATY,QAWEC,CAAAA,UAXF,wIAWb,sKAC2B7B,CAAAA,KAAK,CAAC8B,IAAN,CAAW,QAAX,CAAoBd,YAApB,CAD3B,QACUe,QADV,eAEI,GAAIA,QAAQ,CAACC,IAAT,CAAcd,QAAd,GAA2B,IAA/B,CAAoC,CAChCC,WAAW,CAAC,CAACD,QAAQ,CAACa,QAAQ,CAACC,IAAT,CAAcd,QAAxB,CAAD,CAAX,CACAG,OAAO,CAAC,CAACY,IAAI,CAACF,QAAQ,CAACC,IAAT,CAAcC,IAApB,CAAyBf,QAAQ,CAACa,QAAQ,CAACC,IAAT,CAAcd,QAAhD,CAAD,CAAP,CAAmE;AACtE,CALL,sDAXa,qDAkBEgB,CAAAA,WAlBF,2IAkBb,0KACyBlC,CAAAA,KAAK,CAAC8B,IAAN,CAAW,QAAX,CAAoBd,YAApB,CADzB,QACUmB,MADV,gBAEI,GAAIA,MAAM,CAACH,IAAP,CAAYd,QAAZ,GAAyB,IAA7B,CAAkC,CAC9BC,WAAW,CAAC,CAACD,QAAQ,CAACiB,MAAM,CAACH,IAAP,CAAYd,QAAtB,CAAD,CAAX,CACAG,OAAO,CAAC,CAACY,IAAI,CAACE,MAAM,CAACH,IAAP,CAAYC,IAAlB,CAAuBf,QAAQ,CAACiB,MAAM,CAACH,IAAP,CAAYd,QAA5C,CAAD,CAAP,CAA+D;AAClE,CALL,wDAlBa,8CA0BbgB,WAAW,GACX,GAAIhB,QAAQ,CAACA,QAAT,GAAsB,IAA1B,CAAgC,CAC5B,mBAAO,KAAC,QAAD,EAAU,IAAI,KAAd,CAAe,EAAE,CAAG,YAApB,EAAP,CACH,CAFD,IAEK,CACD,mBACI,YAAK,KAAK,CAAG,eAAb,uBACI,YAAK,KAAK,CAAG,eAAb,uBACI,aAAK,KAAK,CAAE,YAAZ,wBACI,qCACI,cAAO,GAAG,CAAC,UAAX,sBADJ,cAEI,cAAO,KAAK,CAAIF,YAAY,CAACH,EAA7B,CAAiC,IAAI,CAAC,MAAtC,CAA6C,IAAI,CAAG,IAApD,CAAyD,EAAE,CAAG,UAA9D,CAAwE,WAAW,CAAG,UAAtF,CAAkG,QAAQ,CAAES,YAA5G,EAFJ,GADJ,cAKI,qCACI,cAAO,GAAG,CAAE,UAAZ,sBADJ,cAEI,cAAO,KAAK,CAAIN,YAAY,CAACF,IAA7B,CAAmC,IAAI,CAAG,MAA1C,CAAiD,EAAE,CAAG,UAAtD,CAAgE,WAAW,CAAG,UAA9E,CAAyF,IAAI,CAAG,UAAhG,CAA2G,QAAQ,CAAEQ,YAArH,EAFJ,GALJ,cASI,mCACI,cAAM,KAAK,CAAG,KAAd,wBACI,cAAO,GAAG,CAAC,YAAX,4BADJ,cAEI,cAAO,KAAK,CAAIN,YAAY,CAACD,WAA7B,CAAyC,IAAI,CAAG,aAAhD,CAA6D,EAAE,CAAC,aAAhE,CAA6E,IAAI,CAAC,UAAlF,CAA6F,QAAQ,CAAEO,YAAvG,EAFJ,GADJ,EATJ,cAeI,mCACI,eAAQ,EAAE,CAAG,cAAb,CAA2B,OAAO,CAAIO,UAAtC,mBADJ,EAfJ,cAkBI,cAAM,KAAK,CAAG,IAAd,wBACI,mCAAM,UAAG,IAAI,CAAC,QAAR,sCAAN,EADJ,cAEI,cAAM,KAAK,CAAG,UAAd,4CAA0C,UAAG,IAAI,CAAE,WAAT,sBAA1C,GAFJ,GAlBJ,GADJ,EADJ,EADJ,CA8BH,CAEJ,CASD,cAAejB,CAAAA,KAAf","sourcesContent":["import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport Axios from 'axios'\nimport './login.css'\nimport '../general_css/gcss.css'\nimport Footer from '../general_css/footer';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link,\n    Redirect\n  } from \"react-router-dom\";\nimport Dashboard from '../Dashboard/dashboard';\nimport UdContext from '../usercontext/usercontext';\nimport { createContext, useContext } from \"react\";\n\nfunction Login (){\n    const [logindetails,setdetails] = useState({un:'',pass:'',remember_me:true}) //function component equivalent of this.state  // used to get login details\n    const [redirect ,setredirect ] = useState({redirect:false}) // redirect state // allow redirect to dashboard?\n    const {urdata ,setUser} = useContext(UdContext) // use this to set userdata to use any where\n\n    function handleChange (event){\n        setdetails({...logindetails ,[event.target.name]: event.target.value}) // changes \n        console.log(logindetails)\n        console.log('somewhat works')\n    }\n\n    async function loginproce(){\n        const userdata = await Axios.post('/login',logindetails)\n        if (userdata.data.redirect === true){\n            setredirect({redirect:userdata.data.redirect});\n            setUser({user:userdata.data.user,redirect:userdata.data.redirect}) // sets context to userdata from the redirect\n        }\n    }\n    async function onloadlogin (){\n        const prelog = await Axios.post('/login',logindetails)\n        if (prelog.data.redirect === true){\n            setredirect({redirect:prelog.data.redirect});\n            setUser({user:prelog.data.user,redirect:prelog.data.redirect}) // sets context to userdata from the redirect\n        }\n\n    }\n    onloadlogin()\n    if (redirect.redirect === true) {\n        return(<Redirect push to = '/dashboard' />)\n    }else{\n        return(\n            <div class = 'logbackground'>\n                <div class = 'maincontainer'>\n                    <div class ='Form_schem'>\n                        <span>\n                            <label for='Username'>Username</label>\n                            <input value = {logindetails.un} type='text' name = 'un' id = 'Username'placeholder = 'Username'  onChange={handleChange}/>\n                        </span>\n                        <span>\n                            <label for= 'Password'>Password</label>\n                            <input value = {logindetails.pass} name = 'pass' id = 'Password'placeholder = 'Password' type = 'password' onChange={handleChange}/>\n                        </span>\n                        <span>\n                            <span class = 'rme'>\n                                <label for='remeber_me'>Remember me ? </label>\n                                <input value = {logindetails.remember_me}name = 'remember_me'id='remember_me'type='checkbox' onChange={handleChange}/>\n                            </span>\n                        </span>\n                        <span>\n                            <button id = 'login_button'onClick = {loginproce}>Login</button>\n                        </span>\n                        <span class = 'fn'>\n                            <span><a href='/login'>Forgotten Your Password?</a></span>\n                            <span class = 'regilink'>Need An account? <a href ='/register'>Register</a></span>\n                        </span>\n                    </div>\n                </div> \n                \n            </div>\n        )\n    }\n    \n}\n\n\n\n\n\n\n\n\nexport default Login"]},"metadata":{},"sourceType":"module"}