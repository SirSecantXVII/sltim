{"ast":null,"code":"import _defineProperty from\"/Users/mugki/Desktop/sltim/cliside/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/mugki/Desktop/sltim/cliside/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mugki/Desktop/sltim/cliside/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/mugki/Desktop/sltim/cliside/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mugki/Desktop/sltim/cliside/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/mugki/Desktop/sltim/cliside/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/mugki/Desktop/sltim/cliside/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mugki/Desktop/sltim/cliside/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import ReactDOM from'react-dom';import'../general_css/gcss.css';import'./register.css';import footer from'../general_css/footer';import Axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=/*#__PURE__*/function(_React$Component){_inherits(Register,_React$Component);var _super=_createSuper(Register);function Register(props){var _this;_classCallCheck(this,Register);_this=_super.call(this,props);_this.state={firstname:'',surname:'',username:' ',password:'',email:' ',phonenumber:''};_this.emailmess='';_this.emailval=null;// is email valid\n_this.usernamemess='';_this.usernamevall=null;// is username valid \n_this.handleChange=_this.updstate.bind(_assertThisInitialized(_this));_this.regiproc=_this.regiproc.bind(_assertThisInitialized(_this));_this.credtaken=_this.credtaken.bind(_assertThisInitialized(_this));return _this;}_createClass(Register,[{key:\"credtaken\",value:function(){var _credtaken=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(path,data){var axd,axdata;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(path==='email')){_context.next=12;break;}_context.next=3;return Axios.post('/takencred',{email:data},function(err,datas){return datas;});case 3:axd=_context.sent;if(!(axd.data.taken===false)){_context.next=8;break;}return _context.abrupt(\"return\",{out:false});case 8:if(!(axd.data.taken===true)){_context.next=10;break;}return _context.abrupt(\"return\",{out:true});case 10:_context.next=24;break;case 12:if(!(path==='username')){_context.next=24;break;}_context.next=15;return Axios.post('/takencred',{username:data},function(err,datas){return datas;});case 15:axdata=_context.sent;if(!(axdata.data.taken===false)){_context.next=21;break;}// if username aint taken \nthis.usernamevall=true;// is username valid -true === yes\nreturn _context.abrupt(\"return\",{out:false});case 21:if(!(axdata.data.taken===true)){_context.next=24;break;}// if user name is taken\nthis.usernamevall=false;//username is not valid\nreturn _context.abrupt(\"return\",{out:true});case 24:case\"end\":return _context.stop();}}},_callee,this);}));function credtaken(_x,_x2){return _credtaken.apply(this,arguments);}return credtaken;}()},{key:\"updstate\",value:function(){var _updstate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var emailtaken,validemail,usernametaken;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:this.setState(_defineProperty({},event.target.name,event.target.value));// change the variable name of whoever called this event event.target gets everything of the thing that calls the event \nif(!(event.target.name==='email')){_context2.next=6;break;}_context2.next=4;return this.credtaken('email',this.state.email);case 4:emailtaken=_context2.sent;//console.log(emailtaken)\nif(emailtaken.out===false){// if the email is not taken \nvalidemail=validateEmail(this.state.email);//console.log(this.emailmess) // valid email checker \nthis.emailmess=null;// remvoe email message\nthis.forceUpdate();if(validemail===false){this.emailmess='Email is invalid';this.emailval=false;this.forceUpdate();}else if(validemail===true){this.emailmess='Email is valid';this.emailval=true;this.forceUpdate();}else{this.emailmess=null;this.forceUpdate();}}else if(emailtaken.out===true){// if email is taken\nthis.emailmess='Email taken';this.forceUpdate();}case 6:if(!(event.target.name==='username')){_context2.next=11;break;}_context2.next=9;return this.credtaken('username',this.state.username);case 9:usernametaken=_context2.sent;//console.log(this.usernamemess)\n//console.log(usernametaken)\nif(usernametaken.out===true){// show username is taken\nthis.usernamemess='Username is taken';this.forceUpdate();}else if(usernametaken.out===false){// show username is not taken\nthis.usernamemess='Username is valid';this.forceUpdate();}case 11:case\"end\":return _context2.stop();}}},_callee2,this);}));function updstate(_x3){return _updstate.apply(this,arguments);}return updstate;}()},{key:\"regiproc\",value:function(){var _regiproc=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event){var streg;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(this.emailval===true&&this.usernamevall===true)){_context3.next=5;break;}_context3.next=3;return Axios.post('/register',{fnm:this.state.firstname,surn:this.state.surname,email:this.state.email,usrnm:this.state.username,password:this.state.password,pnum:this.state.phonenumber},function(err,datas){return datas;});case 3:streg=_context3.sent;console.log(streg.data);case 5:case\"end\":return _context3.stop();}}},_callee3,this);}));function regiproc(_x4){return _regiproc.apply(this,arguments);}return regiproc;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{class:\"logbackground\",children:/*#__PURE__*/_jsx(\"div\",{class:\"maincontainer\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"Form_schem\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Create an account\"})}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"first_name\",children:\"Firstname\"}),/*#__PURE__*/_jsx(\"input\",{id:\"first_name\",placeholder:\"Forename\",type:\"text\",value:this.state.firstname,onChange:this.handleChange,name:\"firstname\",required:true})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"sur_name\",children:\"Surname\"}),/*#__PURE__*/_jsx(\"input\",{id:\"sur_name\",placeholder:\"Surname\",type:\"text\",value:this.state.surname,onChange:this.handleChange,name:\"surname\",required:true})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"Username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{id:\"Username\",value:this.state.username,type:\"text\",placeholder:\"Username\",onChange:this.handleChange,name:\"username\",required:true}),/*#__PURE__*/_jsx(\"p1\",{children:this.usernamemess})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"Password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"Password\",type:\"password\",value:this.state.password,placeholder:\"Password\",onChange:this.handleChange,name:\"password\",required:true})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",placeholder:\"Email\",autoComplete:\"email\",value:this.state.email,onChange:this.handleChange,name:\"email\",maxLength:\"320\",required:true}),/*#__PURE__*/_jsx(\"p1\",{id:\"emailmess\",children:this.emailmess})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"phonenumber\",children:\"Phonenumber\"}),/*#__PURE__*/_jsx(\"input\",{id:\"phonenumber\",placeholder:\"Phonenumber\",type:\"text\",value:this.state.phonenumber,onChange:this.handleChange,name:\"phonenumber\"})]}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:this.regiproc,children:\"Register\"})}),/*#__PURE__*/_jsx(\"span\",{id:\"tctxt\",children:/*#__PURE__*/_jsxs(\"p1\",{children:[\"By clicking Register you are agreeing to the \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Terms and Conditions\"})]})}),/*#__PURE__*/_jsx(\"span\",{class:\"logbtn\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Already have an account?\",/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"Login\"})]})})]})})});}}]);return Register;}(React.Component);function validateEmail(email){// email validation process\nvar re=/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;return re.test(email);}export default Register;","map":{"version":3,"sources":["/Users/mugki/Desktop/sltim/cliside/src/register/register.js"],"names":["React","ReactDOM","footer","Axios","Register","props","state","firstname","surname","username","password","email","phonenumber","emailmess","emailval","usernamemess","usernamevall","handleChange","updstate","bind","regiproc","credtaken","path","data","post","err","datas","axd","taken","out","axdata","event","setState","target","name","value","emailtaken","validemail","validateEmail","forceUpdate","usernametaken","fnm","surn","usrnm","pnum","streg","console","log","Component","re","test"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport '../general_css/gcss.css'\nimport './register.css'\nimport footer from '../general_css/footer';\nimport Axios from 'axios'\n\nclass Register extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={\n            firstname:'',\n            surname:'',\n            username:' ',\n            password:'',\n            email:' ',\n            phonenumber:''\n        }\n        this.emailmess=''\n        this.emailval = null // is email valid\n        this.usernamemess = ''\n        this.usernamevall = null // is username valid \n        this.handleChange = this.updstate.bind(this);\n        this.regiproc = this.regiproc.bind(this)\n        this.credtaken = this.credtaken.bind(this)\n\n    }\n\n    async credtaken(path , data){\n        if (path === 'email' ){\n            const axd = await Axios.post('/takencred' , {email:data} , (err,datas)=>{return datas})\n            //console.log(axd)\n            if (axd.data.taken === false ){ // if theres no match in the database \n                return {out:false}\n            }else if (axd.data.taken === true ){ // if there is a match in the data base\n                return {out:true}\n            }\n    \n        }else if (path === 'username'){ // for username side \n            const axdata = await Axios.post('/takencred' , {username:data} ,(err , datas)=>{return datas})\n\n            //console.log(axdata)\n\n            if (axdata.data.taken === false ){ // if username aint taken \n\n                this.usernamevall = true // is username valid -true === yes\n                return {out:false}\n\n                \n            }else if (axdata.data.taken === true ){ // if user name is taken\n\n                this.usernamevall = false //username is not valid\n                return {out:true}\n\n            }\n        }\n    \n    }\n\n\n    \n    async updstate(event){\n        this.setState({[event.target.name]:event.target.value}) // change the variable name of whoever called this event event.target gets everything of the thing that calls the event \n\n        if (event.target.name === 'email'){ // email validation \n            const emailtaken  = await this.credtaken('email',this.state.email)\n            //console.log(emailtaken)\n\n            if (emailtaken.out === false ){ // if the email is not taken \n\n                const validemail = validateEmail(this.state.email)\n                //console.log(this.emailmess) // valid email checker \n                this.emailmess=null; // remvoe email message\n                this.forceUpdate()\n\n                if (validemail === false){\n\n                    this.emailmess='Email is invalid';\n                    this.emailval = false\n                    this.forceUpdate()\n\n                }else if (validemail === true){\n\n                    this.emailmess='Email is valid';\n                    this.emailval = true\n                    this.forceUpdate()\n\n                }else{\n                    this.emailmess=null;\n                    this.forceUpdate()\n                }\n\n            }else if (emailtaken.out === true){ // if email is taken\n                this.emailmess='Email taken';\n                this.forceUpdate()\n\n            }\n\n        }\n\n\n        if (event.target.name === 'username'){\n            const usernametaken = await this.credtaken('username',this.state.username)\n            //console.log(this.usernamemess)\n            //console.log(usernametaken)\n\n            if (usernametaken.out === true){ // show username is taken\n\n                this.usernamemess = 'Username is taken' \n                this.forceUpdate()\n\n            }else if (usernametaken.out === false){ // show username is not taken\n\n                this.usernamemess = 'Username is valid'\n                this.forceUpdate() \n\n            }\n        }\n    };\n\n    async regiproc(event){\n        //console.log('calling regipro')\n        if (this.emailval === true && this.usernamevall === true){\n            const streg = await Axios.post('/register' ,{fnm:this.state.firstname,surn:this.state.surname,email:this.state.email ,usrnm:this.state.username,password:this.state.password,pnum:this.state.phonenumber},(err , datas)=>{return datas})\n            console.log(streg.data)\n\n        }\n    };\n    render(){\n        return(\n            <div class='logbackground'>\n                <div class='maincontainer'> \n                    <div class = 'Form_schem'>\n                        \n                        <span><h1>Create an account</h1></span>\n                        <span>\n                            <label for='first_name'>Firstname</label>\n                            <input id ='first_name' placeholder='Forename' type='text' value = {this.state.firstname} onChange = { this.handleChange} name = 'firstname' required/>\n                        </span>\n                        <span>\n                            <label for='sur_name'>Surname</label>\n                            <input id ='sur_name' placeholder='Surname'type='text' value = {this.state.surname} onChange = { this.handleChange} name = 'surname' required/>\n                        </span>\n                        <span>\n                            <label for='Username'>Username</label>\n                            <input id = 'Username' value = {this.state.username} type='text' placeholder = 'Username' onChange = {this.handleChange} name = 'username' required/>\n                            <p1>{this.usernamemess}</p1>\n                        </span>\n                        <span> \n                            <label for='Password'>Password</label>\n                            <input id = 'Password' type='password' value = {this.state.password}  placeholder = 'Password' onChange = { this.handleChange} name = 'password' required/>\n                        </span>\n                        <span>\n                            <label for='email'>Email</label>\n                            <input id ='email' type = 'email' placeholder='Email' autoComplete='email'  value = {this.state.email} onChange = {this.handleChange} name ='email' maxLength = '320' required/>\n                            <p1 id='emailmess'>{this.emailmess}</p1>\n                        </span>\n                        <span>\n                            <label for='phonenumber'>Phonenumber</label>\n                            <input id ='phonenumber' placeholder='Phonenumber'type='text' value = {this.state.phonenumber} onChange = {this.handleChange} name = 'phonenumber'/>\n                        </span>\n            \n                        <span>\n                            <button type='submit' onClick={this.regiproc}>Register</button>    \n                        </span>\n                        <span id = 'tctxt'>\n                            <p1>By clicking Register you are agreeing to the <a href= '#'>Terms and Conditions</a></p1>\n                        </span>\n                        <span class = 'logbtn'>\n                            <span>Already have an account?<a href='/login'>Login</a></span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n\n\n        )\n    }\n\n}\n\n\nfunction validateEmail(email) { // email validation process\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n}\n\n\n\nexport default Register"]},"metadata":{},"sourceType":"module"}